{
  "repo": "nicolettas-muggelbude/Automatisiertes-Update-Script-fuer-Linux",
  "name": "Automatisiertes Update-Script fuer Linux",
  "description": "Mehrsprachiges automatisiertes Update & Upgrade-Script fuer verschiedene Linux-Distributionen mit optionaler E-Mail-Benachrichtigung und detailliertem Logging. üá©üá™ üá¨üáß",
  "lastUpdate": "2025-12-29T23:14:28.774Z",
  "repoInfo": {
    "stars": 3,
    "forks": 1,
    "openIssues": 0,
    "description": "Mehrsprachiges automatisiertes Update & Upgrade-Script fuer verschiedene Linux-Distributionen mit optionaler E-Mail-Benachrichtigung und detailliertem Logging. üá©üá™ üá¨üáß",
    "homepage": "",
    "topics": [
      "arch",
      "automation",
      "bash",
      "debian",
      "fedora",
      "linux",
      "opensuse",
      "ubuntu",
      "update-script"
    ]
  },
  "latestRelease": {
    "tagName": "v1.5.1",
    "name": "v1.5.1 - Desktop-Benachrichtigungen & DMA",
    "body": "# Release Notes - Version 1.5.1\n\n**Ver√∂ffentlicht am:** 2025-12-27\n**Typ:** Feature-Release (Minor)\n\n---\n\n## üéâ Highlights\n\n### üîî Desktop-Benachrichtigungen\n\nDas Script zeigt jetzt **Popup-Benachrichtigungen** f√ºr wichtige Events!\n\n**Benachrichtigungen bei:**\n- ‚úÖ Update erfolgreich abgeschlossen\n- ‚úÖ Distribution-Upgrade verf√ºgbar\n- ‚úÖ Update fehlgeschlagen (kritisch)\n- ‚úÖ Neustart erforderlich\n\n**Features:**\n- Funktioniert automatisch auch als `root` (zeigt Notification f√ºr aktuellen User)\n- Unterst√ºtzt alle g√§ngigen Desktop-Umgebungen (GNOME, KDE, XFCE, Cinnamon, MATE, LXQt, Budgie)\n- Konfigurierbar √ºber `ENABLE_DESKTOP_NOTIFICATION` und `NOTIFICATION_TIMEOUT`\n- Graceful Degradation: Kein Fehler wenn `notify-send` nicht verf√ºgbar\n\n**Installation:**\n```bash\n# Debian/Ubuntu\nsudo apt-get install libnotify-bin\n\n# Fedora/RHEL\nsudo dnf install libnotify\n\n# Arch\nsudo pacman -S libnotify\n```\n\n### üìß DMA - Empfohlene MTA-L√∂sung\n\nBasierend auf **Community-Feedback** ist jetzt **DMA (DragonFly Mail Agent)** die empfohlene L√∂sung f√ºr E-Mail-Benachrichtigungen!\n\n**Warum DMA?**\n- ‚úÖ Keine Konfiguration n√∂tig - einfach installieren und es funktioniert\n- ‚úÖ Kein laufender Dienst im Hintergrund\n- ‚úÖ Kein offener Port (25)\n- ‚úÖ Keine Queue\n- ‚úÖ Perfekt f√ºr lokale Mails (cron, mail)\n\n**Installation:**\n```bash\nsudo apt-get install dma\n# Das war's - DMA funktioniert sofort!\n```\n\n---\n\n## ‚ú® Neue Features\n\n### Desktop-Benachrichtigungen\n\n**Neue Funktion:**\n- `send_notification()` - Zentrale Funktion f√ºr Desktop-Notifications\n\n**Konfiguration:**\n```bash\n# In config.conf\nENABLE_DESKTOP_NOTIFICATION=true\nNOTIFICATION_TIMEOUT=5000  # Millisekunden\n```\n\n**Sprachmeldungen:**\n- 8 neue Messages in Deutsch und Englisch\n- NOTIFICATION_UPDATE_SUCCESS\n- NOTIFICATION_UPDATE_FAILED\n- NOTIFICATION_UPGRADE_AVAILABLE\n- NOTIFICATION_REBOOT_REQUIRED\n\n### E-Mail-Verbesserungen\n\n**Dokumentation:**\n- DMA als empfohlene L√∂sung prominent dokumentiert\n- Alternativen (ssmtp, postfix) weiterhin verf√ºgbar\n- Einfachere Installationsanleitung\n\n---\n\n## üìù √Ñnderungen\n\n### Code\n\n**update.sh:**\n- `send_notification()` Funktion hinzugef√ºgt\n- Notifications nach Update-Erfolg\n- Notifications bei verf√ºgbarem Upgrade\n- Notifications bei Update-Fehler\n- Notifications bei erforderlichem Neustart\n- Automatische DISPLAY und DBUS_SESSION_BUS_ADDRESS Konfiguration f√ºr root\n\n**config.conf.example:**\n- `ENABLE_DESKTOP_NOTIFICATION` (default: true)\n- `NOTIFICATION_TIMEOUT` (default: 5000)\n\n**Sprachdateien:**\n- de.lang: 8 neue Meldungen\n- en.lang: 8 neue Meldungen\n\n### Dokumentation\n\n**README.md:**\n- Neue Sektion \"Desktop-Benachrichtigungen\"\n- DMA als empfohlene MTA-L√∂sung\n- Installationsanleitungen aktualisiert\n- Feature-Liste erweitert\n\n**CHANGELOG.md:**\n- Vollst√§ndiger Eintrag f√ºr v1.5.1\n- Technische Details dokumentiert\n\n---\n\n## üîß Technische Details\n\n### Desktop-Notifications\n\n- Verwendet `notify-send` (libnotify)\n- DISPLAY=:0 f√ºr graphische Anzeige\n- DBUS_SESSION_BUS_ADDRESS automatisch gesetzt\n- Icons: software-update-available, system-software-update, dialog-error, system-reboot\n- Urgency: normal f√ºr Updates/Upgrades, critical f√ºr Fehler\n\n### Kompatibilit√§t\n\n- ‚úÖ Abw√§rtskompatibel mit v1.5.0\n- ‚úÖ Keine Breaking Changes\n- ‚úÖ ShellCheck-konform (0 Warnungen)\n- ‚úÖ Funktioniert auch ohne libnotify (Notifications werden dann √ºbersprungen)\n\n---\n\n## üìä Statistik\n\n**Code-√Ñnderungen:**\n- 6 Dateien ge√§ndert\n- +244 / -19 Zeilen\n- 1 neue Funktion (`send_notification()`)\n- 2 neue Konfigurationsparameter\n- 8 neue Sprachmeldungen\n\n---\n\n## üôè Community\n\n- **DMA-Empfehlung** basierend auf User-Feedback\n- Einfachere L√∂sung f√ºr typische Use-Cases\n- Danke an @Community f√ºr den Vorschlag!\n\n---\n\n## üöÄ Upgrade von v1.5.0\n\n```bash\ncd ~/linux-update-script\ngit pull origin main\n\n# Optional: Neue Features in config.conf aktivieren\necho \"ENABLE_DESKTOP_NOTIFICATION=true\" >> config.conf\necho \"NOTIFICATION_TIMEOUT=5000\" >> config.conf\n\n# libnotify installieren (f√ºr Desktop-Notifications)\nsudo apt-get install libnotify-bin  # Debian/Ubuntu\n```\n\n---\n\n## üì¶ Was kommt als N√§chstes?\n\n**v1.6.0** (geplant):\n- Weitere Desktop-Notification-Verbesserungen\n- Zus√§tzliche Konfigurationsoptionen\n\n**v1.7.0** (geplant):\n- Pre/Post-Update Hooks\n- Custom Scripts vor und nach Updates\n\n**v2.0.0** (geplant):\n- Modulare Code-Architektur\n- Test-Framework\n- Container-Support\n\nSiehe [ROADMAP.md](ROADMAP.md) f√ºr Details.\n\n---\n\n## üîó Links\n\n- **GitHub Repository:** https://github.com/nicolettas-muggelbude/Automatisiertes-Update-Script-fuer-Linux\n- **Changelog:** [CHANGELOG.md](CHANGELOG.md)\n- **Roadmap:** [ROADMAP.md](ROADMAP.md)\n\n---\n\n**Viel Spa√ü mit v1.5.1! üéâ**\n\nBei Fragen oder Problemen bitte ein Issue auf GitHub √∂ffnen.\n",
    "publishedAt": "2025-12-28T09:22:39Z",
    "htmlUrl": "https://github.com/nicolettas-muggelbude/Automatisiertes-Update-Script-fuer-Linux/releases/tag/v1.5.1"
  },
  "readme": "# Linux Update-Script\n\n[![Version](https://img.shields.io/github/v/release/nicolettas-muggelbude/Automatisiertes-Update-Script-fuer-Linux?label=Version)](https://github.com/nicolettas-muggelbude/Automatisiertes-Update-Script-fuer-Linux/releases)\n[![License](https://img.shields.io/badge/License-MIT-blue.svg)](LICENSE)\n[![ShellCheck](https://github.com/nicolettas-muggelbude/Automatisiertes-Update-Script-fuer-Linux/actions/workflows/shellcheck.yml/badge.svg)](https://github.com/nicolettas-muggelbude/Automatisiertes-Update-Script-fuer-Linux/actions/workflows/shellcheck.yml)\n[![Contributions Welcome](https://img.shields.io/badge/contributions-welcome-brightgreen.svg)](CONTRIBUTING.md)\n[![GitHub Stars](https://img.shields.io/github/stars/nicolettas-muggelbude/Automatisiertes-Update-Script-fuer-Linux?style=social)](https://github.com/nicolettas-muggelbude/Automatisiertes-Update-Script-fuer-Linux/stargazers)\n\nAutomatisiertes Update-Script f√ºr verschiedene Linux-Distributionen mit optionaler E-Mail-Benachrichtigung und detailliertem Logging.\n\n## Unterst√ºtzte Distributionen\n\n- **Debian-basiert**: Debian, Ubuntu, Linux Mint\n- **RedHat-basiert**: RHEL, CentOS, Fedora, Rocky Linux, AlmaLinux\n- **SUSE-basiert**: openSUSE (Leap/Tumbleweed), SLES\n- **Arch-basiert**: Arch Linux, Manjaro, EndeavourOS, Garuda Linux, ArcoLinux\n- **Solus**: Solus\n- **Void Linux**: Void Linux\n\n## Features\n\n- ‚úÖ **Mehrsprachigkeit**: Deutsch und Englisch (weitere Sprachen via Community)\n- ‚úÖ **Desktop-Benachrichtigungen**: Popup-Notifications f√ºr Updates, Upgrades, Fehler (v1.5.1)\n- ‚úÖ **Upgrade-Check System**: Automatische Erkennung verf√ºgbarer Distribution-Upgrades (v1.5.0)\n- ‚úÖ **Kernel-Schutz**: Verhindert versehentliches Entfernen von Fallback-Kerneln (v1.5.0)\n- ‚úÖ Automatische Distribution-Erkennung\n- ‚úÖ Vollautomatische System-Updates\n- ‚úÖ Detailliertes Logging mit Zeitstempel\n- ‚úÖ Optionale E-Mail-Benachrichtigung (DMA empfohlen)\n- ‚úÖ Interaktives Installations-Script\n- ‚úÖ Cron-Job-Unterst√ºtzung f√ºr automatische Updates\n- ‚úÖ Optionaler automatischer Neustart\n- ‚úÖ Einfache Konfiguration √ºber Config-Datei\n\n## ‚ö†Ô∏è Wichtige Hinweise VOR der Installation\n\n### Scripts IMMER im Terminal ausf√ºhren\n\n**‚ùå NICHT im Dateimanager doppelklicken!**\n\nDie Scripts m√ºssen im **Terminal** ausgef√ºhrt werden, nicht durch Doppelklick im GUI-Dateimanager (Nautilus, Dolphin, Thunar, etc.).\n\n**‚úÖ Korrekt - Terminal verwenden:**\n\n```bash\n# Terminal √∂ffnen (Strg+Alt+T oder √ºber Anwendungsmen√º)\n# Dann ins Script-Verzeichnis wechseln:\ncd ~/linux-update-script\n./install.sh\n```\n\n**‚ùå Falsch:**\n- Doppelklick auf `install.sh` im Dateimanager\n- Script aus falschem Verzeichnis ausf√ºhren\n- Alte/falsche Script-Versionen verwenden\n\n### Richtige Verzeichnisstruktur\n\nNach der Installation sollte die Struktur so aussehen:\n\n```\n~/linux-update-script/          ‚Üê Hier m√ºssen die Scripts sein!\n‚îú‚îÄ‚îÄ update.sh                   ‚Üê Haupt-Update-Script\n‚îú‚îÄ‚îÄ install.sh                  ‚Üê Installations-Script\n‚îú‚îÄ‚îÄ log-viewer.sh               ‚Üê Log-Viewer\n‚îú‚îÄ‚îÄ config.conf.example         ‚Üê Konfigurations-Vorlage\n‚îú‚îÄ‚îÄ config.conf                 ‚Üê Deine Konfiguration (nach Installation)\n‚îî‚îÄ‚îÄ lang/                       ‚Üê Sprachdateien\n```\n\n**‚ö†Ô∏è Alte Versionen aufr√§umen:**\n\nFalls du bereits fr√ºhere Versionen oder Test-Downloads hast:\n\n```bash\n# Pr√ºfe was in deinem Verzeichnis liegt:\nls -la\n\n# L√∂sche ALTE Versionen (z.B.):\n# - system-update.sh        ‚Üê Alter Name, NICHT verwenden!\n# - README_mitMail.md       ‚Üê Alte Doku, NICHT verwenden!\n```\n\n**Nur diese Scriptnamen sind offiziell:**\n- ‚úÖ `update.sh`\n- ‚úÖ `install.sh`\n- ‚úÖ `log-viewer.sh`\n\nFalls du Dateien mit anderen Namen siehst (z.B. `system-update.sh`), sind das **alte/inoffizielle Versionen**!\n\n---\n\n## Installation\n\n### 1. Repository klonen oder Dateien herunterladen\n\n**Option A: Installation im Home-Verzeichnis (empfohlen)**\n\n```bash\ncd ~\ngit clone https://github.com/nicolettas-muggelbude/Automatisiertes-Update-Script-fuer-Linux.git linux-update-script\ncd linux-update-script\n```\n\n**Option B: Installation in /opt (System-weit)**\n\n```bash\ncd /opt\nsudo git clone https://github.com/nicolettas-muggelbude/Automatisiertes-Update-Script-fuer-Linux.git linux-update-script\nsudo chown -R $USER:$USER linux-update-script\ncd linux-update-script\n```\n\n### 2. Installations-Script ausf√ºhren\n\n**Ohne sudo ausf√ºhren** (als normaler User):\n\n```bash\n./install.sh\n```\n\n> **Hinweis:** Das Installations-Script ben√∂tigt **keine** root-Rechte. Es erstellt nur die Konfigurationsdatei und richtet optional einen Cron-Job ein. Das eigentliche Update-Script (`update.sh`) wird sp√§ter mit sudo ausgef√ºhrt.\n\nDas Installations-Script f√ºhrt dich interaktiv durch die Einrichtung:\n\n**Schritt-f√ºr-Schritt:**\n1. **E-Mail-Benachrichtigung** aktivieren oder deaktivieren\n   - Bei Aktivierung: E-Mail-Adresse eingeben\n   - Script pr√ºft automatisch, ob Mail-Programm installiert ist\n   - Zeigt distributionsspezifische Installationsanweisungen\n\n2. **Automatischer Neustart** (optional)\n   - System wird automatisch neu gestartet, wenn Updates dies erfordern\n\n3. **Log-Verzeichnis** (optional √§ndern)\n   - Standard: `/var/log/system-updates`\n   - Script legt Verzeichnis mit sudo an, falls n√∂tig\n\n4. **Cron-Job einrichten** (optional)\n   - T√§glich um 3:00 Uhr\n   - W√∂chentlich (Sonntag, 3:00 Uhr)\n   - Monatlich (1. des Monats, 3:00 Uhr)\n   - Benutzerdefiniert\n   - Script richtet automatisch im root-Crontab ein\n\nAlle Schritte werden mit klaren Best√§tigungsmeldungen quittiert.\n\n### 3. Konfiguration √ºberpr√ºfen\n\nNach der Installation wird die Datei `config.conf` erstellt:\n\n```bash\ncat config.conf\n```\n\n## Verwendung\n\n### Manuelles Update ausf√ºhren\n\n**‚ö†Ô∏è Wichtig: Zuerst ins richtige Verzeichnis wechseln!**\n\n```bash\n# Terminal √∂ffnen (Strg+Alt+T)\n\n# Ins Script-Verzeichnis wechseln:\ncd ~/linux-update-script\n\n# ODER bei /opt Installation:\ncd /opt/linux-update-script\n\n# Jetzt das Update-Script ausf√ºhren:\nsudo ./update.sh\n```\n\n**H√§ufiger Fehler:**\n```bash\n# ‚ùå FALSCH - ohne cd ins richtige Verzeichnis:\nsudo ./update.sh\n# Fehler: ./update.sh: Datei oder Verzeichnis nicht gefunden\n\n# ‚úÖ RICHTIG - erst mit cd ins Verzeichnis:\ncd ~/linux-update-script\nsudo ./update.sh\n```\n\nDas Script f√ºhrt automatisch folgende Schritte durch:\n1. System-Updates installieren\n2. Pr√ºfung auf verf√ºgbare Distribution-Upgrades\n3. Optional: E-Mail-Benachrichtigung versenden\n4. Optional: Desktop-Benachrichtigung anzeigen\n\n### Distribution-Upgrade durchf√ºhren\n\n**NEU in v1.5.0:** Das Script kann jetzt auch Distribution-Upgrades erkennen und durchf√ºhren.\n\n#### Automatischer Upgrade-Check\n\nNach jedem erfolgreichen Update pr√ºft das Script automatisch, ob ein Distribution-Upgrade verf√ºgbar ist:\n\n```bash\nsudo ./update.sh\n# [INFO] System-Update erfolgreich abgeschlossen\n# [INFO] Pr√ºfe auf verf√ºgbare Distribution-Upgrades\n# [INFO] Upgrade verf√ºgbar: Ubuntu 22.04 ‚Üí Ubuntu 24.04\n# [INFO] F√ºr Upgrade ausf√ºhren: sudo ./update.sh --upgrade\n```\n\n#### Manuelles Upgrade\n\nUm ein verf√ºgbares Distribution-Upgrade durchzuf√ºhren:\n\n```bash\n# Ins Script-Verzeichnis wechseln:\ncd ~/linux-update-script\n\n# Upgrade durchf√ºhren:\nsudo ./update.sh --upgrade\n```\n\nDas Script zeigt eine Backup-Warnung und fragt nach Best√§tigung:\n\n```\n[WARNUNG] Erstelle ein Backup vor dem Upgrade!\nM√∂chtest du das Upgrade durchf√ºhren? [j/N]: j\n[INFO] Starte Upgrade zu Ubuntu 24.04\n[INFO] Distribution-Upgrade erfolgreich abgeschlossen\n```\n\n#### Unterst√ºtzte Distribution-Upgrades\n\n- **Debian/Ubuntu**: Erkennt neue Release-Versionen (z.B. Ubuntu 22.04 ‚Üí 24.04)\n- **Fedora**: Erkennt neue Fedora-Versionen (z.B. Fedora 39 ‚Üí 40)\n- **Arch/Manjaro**: Pr√ºft auf wichtige Updates (Rolling Release)\n- **Solus**: Pr√ºft auf ausstehende Updates (Rolling Release)\n\n### Hilfe anzeigen\n\n```bash\n# Ins Script-Verzeichnis wechseln:\ncd ~/linux-update-script\n\n# Hilfe anzeigen:\nsudo ./update.sh --help\n```\n\n### Automatische Updates via Cron\n\nW√§hrend der Installation kannst du einen Cron-Job einrichten. Das Script richtet den Cron-Job automatisch im **root-Crontab** ein (du wirst einmal nach dem sudo-Passwort gefragt).\n\n**Verf√ºgbare Optionen:**\n- T√§glich um 3:00 Uhr\n- W√∂chentlich (Sonntag, 3:00 Uhr)\n- Monatlich (1. des Monats, 3:00 Uhr)\n- Benutzerdefiniert\n\n**Root-Cron-Jobs anzeigen:**\n```bash\nsudo crontab -l\n```\n\n**Root-Cron-Jobs bearbeiten:**\n```bash\nsudo crontab -e\n```\n\n## Mehrsprachigkeit\n\nDas Script unterst√ºtzt mehrere Sprachen. Die Sprache wird automatisch erkannt oder kann manuell konfiguriert werden.\n\n### Verf√ºgbare Sprachen\n\n- **Deutsch** (de) - German\n- **English** (en) - English\n\nWeitere Sprachen k√∂nnen von der Community beigetragen werden! Siehe `lang/README.md` f√ºr Anleitung.\n\n### Sprache einstellen\n\n**Option 1: Automatische Erkennung (Standard)**\n\nDas Script erkennt automatisch die System-Sprache aus der `LANG` Umgebungsvariable.\n\n**Option 2: Manuelle Einstellung**\n\nIn der `config.conf`:\n```bash\n# Sprache (auto|de|en)\nLANGUAGE=de     # Deutsch\nLANGUAGE=en     # English\nLANGUAGE=auto   # Automatisch\n```\n\n**Option 3: Tempor√§r f√ºr einen Lauf**\n```bash\nLANGUAGE=en sudo ./update.sh\n```\n\n### Installation\n\nW√§hrend der Installation (`./install.sh`) wirst du nach deiner bevorzugten Sprache gefragt.\n\n## Konfiguration\n\nDie Konfigurationsdatei `config.conf` enth√§lt folgende Optionen:\n\n```bash\n# Sprache (auto|de|en)\nLANGUAGE=auto\n\n# E-Mail-Benachrichtigung aktivieren (true/false)\nENABLE_EMAIL=false\n\n# E-Mail-Empf√§nger\nEMAIL_RECIPIENT=\"admin@domain.de\"\n\n# Log-Verzeichnis\nLOG_DIR=\"/var/log/system-updates\"\n\n# Automatischer Neustart bei Bedarf (true/false)\nAUTO_REBOOT=false\n\n# Kernel-Schutz (true/false)\n# Verhindert autoremove wenn zu wenige Kernel installiert sind\nKERNEL_PROTECTION=true\n\n# Minimale Anzahl stabiler Kernel (Standard: 3)\nMIN_KERNELS=3\n\n# Upgrade-Check aktivieren (true/false)\n# Pr√ºft nach regul√§ren Updates, ob Distribution-Upgrades verf√ºgbar sind\nENABLE_UPGRADE_CHECK=true\n\n# Automatisches Upgrade durchf√ºhren (true/false)\n# WARNUNG: Kann Breaking Changes verursachen! Nur f√ºr erfahrene User\nAUTO_UPGRADE=false\n\n# Upgrade-Benachrichtigungen per E-Mail (true/false)\nUPGRADE_NOTIFY_EMAIL=true\n\n# Desktop-Benachrichtigungen aktivieren (true/false)\nENABLE_DESKTOP_NOTIFICATION=true\n\n# Notification-Dauer in Millisekunden\nNOTIFICATION_TIMEOUT=5000\n```\n\n### Konfiguration √§ndern\n\nOption 1: Installations-Script erneut ausf√ºhren\n```bash\n./install.sh\n```\n\nOption 2: Config-Datei manuell bearbeiten\n```bash\nnano config.conf\n```\n\n## E-Mail-Benachrichtigung\n\n### Voraussetzungen\n\nF√ºr E-Mail-Benachrichtigungen ben√∂tigst du:\n\n1. **Mail-Client** (mail oder mailx)\n2. **MTA (Mail Transfer Agent)**\n\n### Empfohlene MTA-L√∂sung: DMA (DragonFly Mail Agent)\n\n**DMA** ist die **einfachste und beste L√∂sung** f√ºr lokale E-Mail-Benachrichtigungen:\n\n‚úÖ **Vorteile:**\n- Keine Konfiguration n√∂tig\n- Kein laufender Dienst\n- Kein offener Port (25)\n- Keine Queue im Hintergrund\n- Perfekt f√ºr lokale Mails (cron, mail)\n- Funktioniert sofort nach Installation\n\n**Debian/Ubuntu/Mint:**\n```bash\n# DMA installieren (EMPFOHLEN)\nsudo apt-get install dma\n\n# Das war's! DMA funktioniert sofort f√ºr lokale Mails\n```\n\n### Alternative MTAs\n\nFalls DMA nicht verf√ºgbar oder spezielle Anforderungen bestehen:\n\n**ssmtp (einfach, f√ºr externe SMTP-Server):**\n```bash\nsudo apt-get install ssmtp\n# Konfiguration in /etc/ssmtp/ssmtp.conf erforderlich\n```\n\n**postfix (vollwertiger MTA):**\n```bash\nsudo apt-get install postfix\n# W√§hrend Installation: \"Internet Site\" w√§hlen\n```\n\n**RHEL/Fedora/CentOS:**\n```bash\n# Mail-Client installieren\nsudo dnf install mailx\n\n# Einfacher MTA\nsudo dnf install ssmtp\n\n# ODER vollwertiger MTA\nsudo dnf install postfix\n```\n\n**openSUSE/SUSE:**\n```bash\nsudo zypper install mailx\nsudo zypper install postfix\n```\n\n**Arch Linux/Manjaro:**\n```bash\n# Mail-Client installieren\nsudo pacman -S mailutils\n\n# Einfacher MTA\nsudo pacman -S ssmtp\n\n# ODER vollwertiger MTA\nsudo pacman -S postfix\n```\n\n### E-Mail-Konfiguration testen\n\n```bash\necho \"Test-Nachricht\" | mail -s \"Test\" deine-admin@domain.de\n```\n\n**Wichtig:** Wenn du die Fehlermeldung \"Cannot start /usr/sbin/sendmail\" siehst, ist kein MTA installiert oder konfiguriert. Das Script wird dich dann warnen:\n```\n[WARNUNG] E-Mail konnte nicht gesendet werden (MTA nicht konfiguriert?)\n```\n\n## Desktop-Benachrichtigungen\n\n**NEU in v1.5.1:** Das Script zeigt Popup-Benachrichtigungen f√ºr wichtige Events!\n\n### Funktionen\n\nDesktop-Benachrichtigungen werden angezeigt bei:\n- ‚úÖ **Update erfolgreich**: Gr√ºner Hinweis nach abgeschlossenem Update\n- ‚úÖ **Upgrade verf√ºgbar**: Info √ºber neue Distribution-Version\n- ‚úÖ **Update fehlgeschlagen**: Kritische Warnung bei Fehler\n- ‚úÖ **Neustart erforderlich**: Hinweis wenn Reboot n√∂tig\n\n### Voraussetzungen\n\n```bash\n# Debian/Ubuntu/Mint\nsudo apt-get install libnotify-bin\n\n# Fedora/RHEL\nsudo dnf install libnotify\n\n# Arch Linux\nsudo pacman -S libnotify\n\n# openSUSE\nsudo zypper install libnotify-tools\n```\n\n### Unterst√ºtzte Desktop-Umgebungen\n\n- GNOME\n- KDE Plasma\n- XFCE\n- Cinnamon\n- MATE\n- LXQt\n- Budgie\n\n### Konfiguration\n\n```bash\n# In config.conf\n\n# Desktop-Benachrichtigungen aktivieren\nENABLE_DESKTOP_NOTIFICATION=true\n\n# Notification-Dauer (Millisekunden)\nNOTIFICATION_TIMEOUT=5000\n```\n\n**Hinweis:** Funktioniert automatisch auch wenn Script als `sudo` ausgef√ºhrt wird - Notifications werden f√ºr den eigentlichen User angezeigt.\n\n## Logging\n\nAlle Updates werden in Logdateien mit Zeitstempel gespeichert:\n\n```\n/var/log/system-updates/update_YYYY-MM-DD_HH-MM-SS.log\n```\n\n### Logs anzeigen\n\n**Interaktiver Log Viewer (empfohlen):**\n\n```bash\n# Ins Script-Verzeichnis wechseln:\ncd ~/linux-update-script\n\n# Log-Viewer starten:\n./log-viewer.sh\n```\n\nDer Log Viewer bietet folgende Optionen:\n1. Neueste Logdatei komplett anzeigen\n2. Letzte 50 Zeilen des neuesten Logs\n3. Alle Logdateien auflisten\n4. Nach Fehlern in Logs suchen\n5. Beenden\n\n**Manuelle Log-Anzeige:**\n\nNeueste Logdatei komplett:\n```bash\ncat /var/log/system-updates/$(ls -t /var/log/system-updates/ | head -n 1)\n```\n\nLetzte 50 Zeilen:\n```bash\ntail -n 50 /var/log/system-updates/$(ls -t /var/log/system-updates/ | head -n 1)\n```\n\nAlle Logdateien auflisten:\n```bash\nls -lth /var/log/system-updates/\n```\n\n## Fehlerbehebung\n\n### Problem: \"Permission denied\"\n\n**L√∂sung:** Script muss als root ausgef√ºhrt werden\n```bash\nsudo ./update.sh\n```\n\n### Problem: \"Kann Distribution nicht erkennen\"\n\n**L√∂sung:** Pr√ºfen ob `/etc/os-release` existiert\n```bash\ncat /etc/os-release\n```\n\n### Problem: E-Mail wird nicht versendet\n\n**Fehlermeldung: \"Cannot start /usr/sbin/sendmail\"**\n\nDies bedeutet, dass kein MTA (Mail Transfer Agent) installiert ist.\n\n**L√∂sung:**\n```bash\n# Option 1: Einfacher MTA (ssmtp f√ºr Gmail, etc.)\nsudo apt install ssmtp\nsudo nano /etc/ssmtp/ssmtp.conf\n\n# Option 2: Vollwertiger MTA\nsudo apt install postfix\n# W√§hrend Installation: \"Internet Site\" w√§hlen\n```\n\n**√úberpr√ºfungen:**\n1. Ist `mailutils` oder `mailx` installiert?\n   ```bash\n   which mail\n   which sendmail\n   ```\n\n2. Ist ein MTA installiert?\n   ```bash\n   systemctl status postfix\n   # oder\n   dpkg -l | grep ssmtp\n   ```\n\n3. Ist die E-Mail-Adresse korrekt in `config.conf`?\n   ```bash\n   cat config.conf | grep EMAIL\n   ```\n\n4. Ist E-Mail aktiviert?\n   ```bash\n   cat config.conf | grep ENABLE_EMAIL\n   ```\n\n5. Test-E-Mail senden:\n   ```bash\n   echo \"Test\" | mail -s \"Test\" deine@email.de\n   # Pr√ºfe /var/log/mail.log f√ºr Fehler\n   ```\n\n### Problem: Log-Verzeichnis kann nicht erstellt werden\n\n**L√∂sung:** Script beim ersten Mal als root ausf√ºhren\n```bash\nsudo ./update.sh\n```\n\nOder Log-Verzeichnis manuell erstellen:\n```bash\nsudo mkdir -p /var/log/system-updates\nsudo chown $USER:$USER /var/log/system-updates\n```\n\n### Problem: Cron-Job funktioniert nicht\n\n**√úberpr√ºfungen:**\n\n1. Ist der Cron-Job korrekt eingetragen?\n   ```bash\n   crontab -l\n   ```\n\n2. Pr√ºfen Sie die Cron-Logs:\n   ```bash\n   tail -f /var/log/cron.log\n   # oder\n   tail -f /var/log/system-updates/cron.log\n   ```\n\n3. Script-Pfad absolut angeben:\n   ```bash\n   # Beispiel f√ºr Installation im Home-Verzeichnis:\n   0 3 * * * /home/USERNAME/linux-update-script/update.sh\n\n   # Beispiel f√ºr Installation in /opt:\n   0 3 * * * /opt/linux-update-script/update.sh\n   ```\n\n   **Hinweis:** Ersetze `USERNAME` mit deinem tats√§chlichen Benutzernamen oder verwende den absoluten Pfad zu deiner Installation.\n\n## Kernel-Schutz\n\n**NEU in v1.5.0:** Das Script sch√ºtzt automatisch vor versehentlichem Entfernen von Fallback-Kerneln.\n\n### Funktionsweise\n\n- Z√§hlt installierte stabile Kernel-Versionen vor `autoremove`\n- √úberspringt `autoremove` wenn weniger als `MIN_KERNELS` vorhanden\n- Standard: Mindestens 3 Kernel (aktuell laufend + 2 Fallback-Versionen)\n- Unterst√ºtzt Debian/Ubuntu und RHEL/Fedora\n\n### Beispiel\n\n```bash\nsudo ./update.sh\n# [INFO] Pr√ºfe installierte Kernel-Versionen\n# [INFO] Gefunden: 5 stabile Kernel-Versionen\n# [INFO] Aktuell laufend: 6.5.0-28-generic\n# [INFO] Gen√ºgend Kernel vorhanden, f√ºhre autoremove aus\n```\n\nWenn zu wenige Kernel vorhanden:\n\n```bash\n# [WARNUNG] Nur 2 Kernel gefunden, √ºberspringe autoremove zur Sicherheit\n# [INFO] Minimum erforderlich: 3 stabile Kernel (aktuell + Fallbacks)\n# [INFO] Kernel-Schutz aktiv: Mindestens 2 stabile Kernel werden behalten\n```\n\n### Konfiguration\n\n```bash\n# Kernel-Schutz deaktivieren (nicht empfohlen)\nKERNEL_PROTECTION=false\n\n# Mindestanzahl √§ndern\nMIN_KERNELS=5  # Beh√§lt mehr Fallback-Kernel\n```\n\n## Sicherheitshinweise\n\n- Das Script ben√∂tigt root-Rechte f√ºr System-Updates\n- **Backup empfohlen** vor Distribution-Upgrades\n- Konfigurationsdatei enth√§lt keine sensiblen Daten\n- E-Mail-Passw√∂rter werden nicht im Script gespeichert\n- Logs k√∂nnen sensible Systeminformationen enthalten\n- Kernel-Schutz verhindert Bootprobleme durch fehlende Fallback-Kernel\n\n## Deinstallation\n\n### Cron-Job entfernen\n\n```bash\ncrontab -e\n# Zeile mit update.sh l√∂schen\n```\n\n### Dateien entfernen\n\n**F√ºr Installation im Home-Verzeichnis:**\n```bash\nrm -rf ~/linux-update-script\nsudo rm -rf /var/log/system-updates\n```\n\n**F√ºr Installation in /opt:**\n```bash\nsudo rm -rf /opt/linux-update-script\nsudo rm -rf /var/log/system-updates\n```\n\n## Lizenz\n\nDieses Projekt steht unter der MIT-Lizenz. Siehe [LICENSE](LICENSE) Datei f√ºr Details.\n\n## Support\n\nBei Problemen oder Fragen:\n1. Pr√ºfe die Logdateien\n2. √úberpr√ºfen die Konfiguration\n3. Stelle sicher, dass alle Voraussetzungen erf√ºllt sind\n\n## Changelog\n\nDie vollst√§ndige Versionshistorie findest du in der [CHANGELOG.md](CHANGELOG.md) Datei.\n\n### Aktuelle Version: 1.5.1 (2025-12-27) - Desktop-Benachrichtigungen & DMA\n\n**Highlights:**\n- ‚úÖ **NEU: Desktop-Benachrichtigungen** - Popup-Notifications f√ºr wichtige Events\n  - Benachrichtigungen bei Update-Erfolg, Upgrade verf√ºgbar, Fehler, Neustart\n  - Funktioniert automatisch auch als root\n  - Unterst√ºtzt GNOME, KDE, XFCE, Cinnamon, MATE, LXQt, Budgie\n- ‚úÖ **NEU: DMA-Empfehlung** - Einfachste L√∂sung f√ºr E-Mail-Benachrichtigungen\n  - Keine Konfiguration n√∂tig\n  - Kein laufender Dienst, kein offener Port\n  - Perfekt f√ºr lokale Mails\n- ‚úÖ Upgrade-Check System (v1.5.0)\n- ‚úÖ Kernel-Schutz (v1.5.0)\n- ‚úÖ ShellCheck-konform (keine Warnungen)\n\n**Version 1.4.0:**\n- ‚úÖ ShellCheck-Warnungen behoben\n- ‚úÖ Code-Qualit√§t verbessert\n\n**Version 1.3.0:**\n- ‚úÖ Solus Unterst√ºtzung (Community Beitrag von @mrtoadie)\n- ‚úÖ Void Linux Unterst√ºtzung (Community Beitrag von @tbreswald)\n- ‚úÖ GitHub Repository professionell eingerichtet\n\n**Siehe [CHANGELOG.md](CHANGELOG.md) f√ºr alle Details**\n"
}