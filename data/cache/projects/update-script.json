{
  "repo": "nicolettas-muggelbude/Automatisiertes-Update-Script-fuer-Linux",
  "name": "Automatisiertes Update-Script fuer Linux",
  "description": "Mehrsprachiges automatisiertes Update & Upgrade-Script fuer verschiedene Linux-Distributionen mit optionaler E-Mail-Benachrichtigung und detailliertem Logging. üá©üá™ üá¨üáß",
  "lastUpdate": "2025-12-30T00:30:59.005Z",
  "repoInfo": {
    "stars": 3,
    "forks": 1,
    "openIssues": 0,
    "description": "Mehrsprachiges automatisiertes Update & Upgrade-Script fuer verschiedene Linux-Distributionen mit optionaler E-Mail-Benachrichtigung und detailliertem Logging. üá©üá™ üá¨üáß",
    "homepage": "",
    "topics": [
      "arch",
      "automation",
      "bash",
      "debian",
      "fedora",
      "linux",
      "opensuse",
      "ubuntu",
      "update-script"
    ]
  },
  "latestRelease": {
    "tagName": "v1.5.1",
    "name": "v1.5.1 - Desktop-Benachrichtigungen & DMA",
    "body": "# Release Notes - Version 1.5.1\n\n**Ver√∂ffentlicht am:** 2025-12-27\n**Typ:** Feature-Release (Minor)\n\n---\n\n## üéâ Highlights\n\n### üîî Desktop-Benachrichtigungen\n\nDas Script zeigt jetzt **Popup-Benachrichtigungen** f√ºr wichtige Events!\n\n**Benachrichtigungen bei:**\n- ‚úÖ Update erfolgreich abgeschlossen\n- ‚úÖ Distribution-Upgrade verf√ºgbar\n- ‚úÖ Update fehlgeschlagen (kritisch)\n- ‚úÖ Neustart erforderlich\n\n**Features:**\n- Funktioniert automatisch auch als `root` (zeigt Notification f√ºr aktuellen User)\n- Unterst√ºtzt alle g√§ngigen Desktop-Umgebungen (GNOME, KDE, XFCE, Cinnamon, MATE, LXQt, Budgie)\n- Konfigurierbar √ºber `ENABLE_DESKTOP_NOTIFICATION` und `NOTIFICATION_TIMEOUT`\n- Graceful Degradation: Kein Fehler wenn `notify-send` nicht verf√ºgbar\n\n**Installation:**\n```bash\n# Debian/Ubuntu\nsudo apt-get install libnotify-bin\n\n# Fedora/RHEL\nsudo dnf install libnotify\n\n# Arch\nsudo pacman -S libnotify\n```\n\n### üìß DMA - Empfohlene MTA-L√∂sung\n\nBasierend auf **Community-Feedback** ist jetzt **DMA (DragonFly Mail Agent)** die empfohlene L√∂sung f√ºr E-Mail-Benachrichtigungen!\n\n**Warum DMA?**\n- ‚úÖ Keine Konfiguration n√∂tig - einfach installieren und es funktioniert\n- ‚úÖ Kein laufender Dienst im Hintergrund\n- ‚úÖ Kein offener Port (25)\n- ‚úÖ Keine Queue\n- ‚úÖ Perfekt f√ºr lokale Mails (cron, mail)\n\n**Installation:**\n```bash\nsudo apt-get install dma\n# Das war's - DMA funktioniert sofort!\n```\n\n---\n\n## ‚ú® Neue Features\n\n### Desktop-Benachrichtigungen\n\n**Neue Funktion:**\n- `send_notification()` - Zentrale Funktion f√ºr Desktop-Notifications\n\n**Konfiguration:**\n```bash\n# In config.conf\nENABLE_DESKTOP_NOTIFICATION=true\nNOTIFICATION_TIMEOUT=5000  # Millisekunden\n```\n\n**Sprachmeldungen:**\n- 8 neue Messages in Deutsch und Englisch\n- NOTIFICATION_UPDATE_SUCCESS\n- NOTIFICATION_UPDATE_FAILED\n- NOTIFICATION_UPGRADE_AVAILABLE\n- NOTIFICATION_REBOOT_REQUIRED\n\n### E-Mail-Verbesserungen\n\n**Dokumentation:**\n- DMA als empfohlene L√∂sung prominent dokumentiert\n- Alternativen (ssmtp, postfix) weiterhin verf√ºgbar\n- Einfachere Installationsanleitung\n\n---\n\n## üìù √Ñnderungen\n\n### Code\n\n**update.sh:**\n- `send_notification()` Funktion hinzugef√ºgt\n- Notifications nach Update-Erfolg\n- Notifications bei verf√ºgbarem Upgrade\n- Notifications bei Update-Fehler\n- Notifications bei erforderlichem Neustart\n- Automatische DISPLAY und DBUS_SESSION_BUS_ADDRESS Konfiguration f√ºr root\n\n**config.conf.example:**\n- `ENABLE_DESKTOP_NOTIFICATION` (default: true)\n- `NOTIFICATION_TIMEOUT` (default: 5000)\n\n**Sprachdateien:**\n- de.lang: 8 neue Meldungen\n- en.lang: 8 neue Meldungen\n\n### Dokumentation\n\n**README.md:**\n- Neue Sektion \"Desktop-Benachrichtigungen\"\n- DMA als empfohlene MTA-L√∂sung\n- Installationsanleitungen aktualisiert\n- Feature-Liste erweitert\n\n**CHANGELOG.md:**\n- Vollst√§ndiger Eintrag f√ºr v1.5.1\n- Technische Details dokumentiert\n\n---\n\n## üîß Technische Details\n\n### Desktop-Notifications\n\n- Verwendet `notify-send` (libnotify)\n- DISPLAY=:0 f√ºr graphische Anzeige\n- DBUS_SESSION_BUS_ADDRESS automatisch gesetzt\n- Icons: software-update-available, system-software-update, dialog-error, system-reboot\n- Urgency: normal f√ºr Updates/Upgrades, critical f√ºr Fehler\n\n### Kompatibilit√§t\n\n- ‚úÖ Abw√§rtskompatibel mit v1.5.0\n- ‚úÖ Keine Breaking Changes\n- ‚úÖ ShellCheck-konform (0 Warnungen)\n- ‚úÖ Funktioniert auch ohne libnotify (Notifications werden dann √ºbersprungen)\n\n---\n\n## üìä Statistik\n\n**Code-√Ñnderungen:**\n- 6 Dateien ge√§ndert\n- +244 / -19 Zeilen\n- 1 neue Funktion (`send_notification()`)\n- 2 neue Konfigurationsparameter\n- 8 neue Sprachmeldungen\n\n---\n\n## üôè Community\n\n- **DMA-Empfehlung** basierend auf User-Feedback\n- Einfachere L√∂sung f√ºr typische Use-Cases\n- Danke an @Community f√ºr den Vorschlag!\n\n---\n\n## üöÄ Upgrade von v1.5.0\n\n```bash\ncd ~/linux-update-script\ngit pull origin main\n\n# Optional: Neue Features in config.conf aktivieren\necho \"ENABLE_DESKTOP_NOTIFICATION=true\" >> config.conf\necho \"NOTIFICATION_TIMEOUT=5000\" >> config.conf\n\n# libnotify installieren (f√ºr Desktop-Notifications)\nsudo apt-get install libnotify-bin  # Debian/Ubuntu\n```\n\n---\n\n## üì¶ Was kommt als N√§chstes?\n\n**v1.6.0** (geplant):\n- Weitere Desktop-Notification-Verbesserungen\n- Zus√§tzliche Konfigurationsoptionen\n\n**v1.7.0** (geplant):\n- Pre/Post-Update Hooks\n- Custom Scripts vor und nach Updates\n\n**v2.0.0** (geplant):\n- Modulare Code-Architektur\n- Test-Framework\n- Container-Support\n\nSiehe [ROADMAP.md](ROADMAP.md) f√ºr Details.\n\n---\n\n## üîó Links\n\n- **GitHub Repository:** https://github.com/nicolettas-muggelbude/Automatisiertes-Update-Script-fuer-Linux\n- **Changelog:** [CHANGELOG.md](CHANGELOG.md)\n- **Roadmap:** [ROADMAP.md](ROADMAP.md)\n\n---\n\n**Viel Spa√ü mit v1.5.1! üéâ**\n\nBei Fragen oder Problemen bitte ein Issue auf GitHub √∂ffnen.\n",
    "publishedAt": "2025-12-28T09:22:39Z",
    "htmlUrl": "https://github.com/nicolettas-muggelbude/Automatisiertes-Update-Script-fuer-Linux/releases/tag/v1.5.1"
  },
  "readmeHtml": "<h1>Linux Update-Script</h1>\n<p><a href=\"https://github.com/nicolettas-muggelbude/Automatisiertes-Update-Script-fuer-Linux/releases\"><img src=\"https://img.shields.io/github/v/release/nicolettas-muggelbude/Automatisiertes-Update-Script-fuer-Linux?label=Version\" alt=\"Version\"></a>\n<a href=\"LICENSE\"><img src=\"https://img.shields.io/badge/License-MIT-blue.svg\" alt=\"License\"></a>\n<a href=\"https://github.com/nicolettas-muggelbude/Automatisiertes-Update-Script-fuer-Linux/actions/workflows/shellcheck.yml\"><img src=\"https://github.com/nicolettas-muggelbude/Automatisiertes-Update-Script-fuer-Linux/actions/workflows/shellcheck.yml/badge.svg\" alt=\"ShellCheck\"></a>\n<a href=\"CONTRIBUTING.md\"><img src=\"https://img.shields.io/badge/contributions-welcome-brightgreen.svg\" alt=\"Contributions Welcome\"></a>\n<a href=\"https://github.com/nicolettas-muggelbude/Automatisiertes-Update-Script-fuer-Linux/stargazers\"><img src=\"https://img.shields.io/github/stars/nicolettas-muggelbude/Automatisiertes-Update-Script-fuer-Linux?style=social\" alt=\"GitHub Stars\"></a></p>\n<p>Automatisiertes Update-Script f√ºr verschiedene Linux-Distributionen mit optionaler E-Mail-Benachrichtigung und detailliertem Logging.</p>\n<h2>Unterst√ºtzte Distributionen</h2>\n<ul>\n<li><strong>Debian-basiert</strong>: Debian, Ubuntu, Linux Mint</li>\n<li><strong>RedHat-basiert</strong>: RHEL, CentOS, Fedora, Rocky Linux, AlmaLinux</li>\n<li><strong>SUSE-basiert</strong>: openSUSE (Leap/Tumbleweed), SLES</li>\n<li><strong>Arch-basiert</strong>: Arch Linux, Manjaro, EndeavourOS, Garuda Linux, ArcoLinux</li>\n<li><strong>Solus</strong>: Solus</li>\n<li><strong>Void Linux</strong>: Void Linux</li>\n</ul>\n<h2>Features</h2>\n<ul>\n<li>‚úÖ <strong>Mehrsprachigkeit</strong>: Deutsch und Englisch (weitere Sprachen via Community)</li>\n<li>‚úÖ <strong>Desktop-Benachrichtigungen</strong>: Popup-Notifications f√ºr Updates, Upgrades, Fehler (v1.5.1)</li>\n<li>‚úÖ <strong>Upgrade-Check System</strong>: Automatische Erkennung verf√ºgbarer Distribution-Upgrades (v1.5.0)</li>\n<li>‚úÖ <strong>Kernel-Schutz</strong>: Verhindert versehentliches Entfernen von Fallback-Kerneln (v1.5.0)</li>\n<li>‚úÖ Automatische Distribution-Erkennung</li>\n<li>‚úÖ Vollautomatische System-Updates</li>\n<li>‚úÖ Detailliertes Logging mit Zeitstempel</li>\n<li>‚úÖ Optionale E-Mail-Benachrichtigung (DMA empfohlen)</li>\n<li>‚úÖ Interaktives Installations-Script</li>\n<li>‚úÖ Cron-Job-Unterst√ºtzung f√ºr automatische Updates</li>\n<li>‚úÖ Optionaler automatischer Neustart</li>\n<li>‚úÖ Einfache Konfiguration √ºber Config-Datei</li>\n</ul>\n<h2>‚ö†Ô∏è Wichtige Hinweise VOR der Installation</h2>\n<h3>Scripts IMMER im Terminal ausf√ºhren</h3>\n<p><strong>‚ùå NICHT im Dateimanager doppelklicken!</strong></p>\n<p>Die Scripts m√ºssen im <strong>Terminal</strong> ausgef√ºhrt werden, nicht durch Doppelklick im GUI-Dateimanager (Nautilus, Dolphin, Thunar, etc.).</p>\n<p><strong>‚úÖ Korrekt - Terminal verwenden:</strong></p>\n<pre><code class=\"language-bash\"># Terminal √∂ffnen (Strg+Alt+T oder √ºber Anwendungsmen√º)\n# Dann ins Script-Verzeichnis wechseln:\ncd ~/linux-update-script\n./install.sh\n</code></pre>\n<p><strong>‚ùå Falsch:</strong></p>\n<ul>\n<li>Doppelklick auf <code>install.sh</code> im Dateimanager</li>\n<li>Script aus falschem Verzeichnis ausf√ºhren</li>\n<li>Alte/falsche Script-Versionen verwenden</li>\n</ul>\n<h3>Richtige Verzeichnisstruktur</h3>\n<p>Nach der Installation sollte die Struktur so aussehen:</p>\n<pre><code>~/linux-update-script/          ‚Üê Hier m√ºssen die Scripts sein!\n‚îú‚îÄ‚îÄ update.sh                   ‚Üê Haupt-Update-Script\n‚îú‚îÄ‚îÄ install.sh                  ‚Üê Installations-Script\n‚îú‚îÄ‚îÄ log-viewer.sh               ‚Üê Log-Viewer\n‚îú‚îÄ‚îÄ config.conf.example         ‚Üê Konfigurations-Vorlage\n‚îú‚îÄ‚îÄ config.conf                 ‚Üê Deine Konfiguration (nach Installation)\n‚îî‚îÄ‚îÄ lang/                       ‚Üê Sprachdateien\n</code></pre>\n<p><strong>‚ö†Ô∏è Alte Versionen aufr√§umen:</strong></p>\n<p>Falls du bereits fr√ºhere Versionen oder Test-Downloads hast:</p>\n<pre><code class=\"language-bash\"># Pr√ºfe was in deinem Verzeichnis liegt:\nls -la\n\n# L√∂sche ALTE Versionen (z.B.):\n# - system-update.sh        ‚Üê Alter Name, NICHT verwenden!\n# - README_mitMail.md       ‚Üê Alte Doku, NICHT verwenden!\n</code></pre>\n<p><strong>Nur diese Scriptnamen sind offiziell:</strong></p>\n<ul>\n<li>‚úÖ <code>update.sh</code></li>\n<li>‚úÖ <code>install.sh</code></li>\n<li>‚úÖ <code>log-viewer.sh</code></li>\n</ul>\n<p>Falls du Dateien mit anderen Namen siehst (z.B. <code>system-update.sh</code>), sind das <strong>alte/inoffizielle Versionen</strong>!</p>\n<hr>\n<h2>Installation</h2>\n<h3>1. Repository klonen oder Dateien herunterladen</h3>\n<p><strong>Option A: Installation im Home-Verzeichnis (empfohlen)</strong></p>\n<pre><code class=\"language-bash\">cd ~\ngit clone https://github.com/nicolettas-muggelbude/Automatisiertes-Update-Script-fuer-Linux.git linux-update-script\ncd linux-update-script\n</code></pre>\n<p><strong>Option B: Installation in /opt (System-weit)</strong></p>\n<pre><code class=\"language-bash\">cd /opt\nsudo git clone https://github.com/nicolettas-muggelbude/Automatisiertes-Update-Script-fuer-Linux.git linux-update-script\nsudo chown -R $USER:$USER linux-update-script\ncd linux-update-script\n</code></pre>\n<h3>2. Installations-Script ausf√ºhren</h3>\n<p><strong>Ohne sudo ausf√ºhren</strong> (als normaler User):</p>\n<pre><code class=\"language-bash\">./install.sh\n</code></pre>\n<blockquote>\n<p><strong>Hinweis:</strong> Das Installations-Script ben√∂tigt <strong>keine</strong> root-Rechte. Es erstellt nur die Konfigurationsdatei und richtet optional einen Cron-Job ein. Das eigentliche Update-Script (<code>update.sh</code>) wird sp√§ter mit sudo ausgef√ºhrt.</p>\n</blockquote>\n<p>Das Installations-Script f√ºhrt dich interaktiv durch die Einrichtung:</p>\n<p><strong>Schritt-f√ºr-Schritt:</strong></p>\n<ol>\n<li><p><strong>E-Mail-Benachrichtigung</strong> aktivieren oder deaktivieren</p>\n<ul>\n<li>Bei Aktivierung: E-Mail-Adresse eingeben</li>\n<li>Script pr√ºft automatisch, ob Mail-Programm installiert ist</li>\n<li>Zeigt distributionsspezifische Installationsanweisungen</li>\n</ul>\n</li>\n<li><p><strong>Automatischer Neustart</strong> (optional)</p>\n<ul>\n<li>System wird automatisch neu gestartet, wenn Updates dies erfordern</li>\n</ul>\n</li>\n<li><p><strong>Log-Verzeichnis</strong> (optional √§ndern)</p>\n<ul>\n<li>Standard: <code>/var/log/system-updates</code></li>\n<li>Script legt Verzeichnis mit sudo an, falls n√∂tig</li>\n</ul>\n</li>\n<li><p><strong>Cron-Job einrichten</strong> (optional)</p>\n<ul>\n<li>T√§glich um 3:00 Uhr</li>\n<li>W√∂chentlich (Sonntag, 3:00 Uhr)</li>\n<li>Monatlich (1. des Monats, 3:00 Uhr)</li>\n<li>Benutzerdefiniert</li>\n<li>Script richtet automatisch im root-Crontab ein</li>\n</ul>\n</li>\n</ol>\n<p>Alle Schritte werden mit klaren Best√§tigungsmeldungen quittiert.</p>\n<h3>3. Konfiguration √ºberpr√ºfen</h3>\n<p>Nach der Installation wird die Datei <code>config.conf</code> erstellt:</p>\n<pre><code class=\"language-bash\">cat config.conf\n</code></pre>\n<h2>Verwendung</h2>\n<h3>Manuelles Update ausf√ºhren</h3>\n<p><strong>‚ö†Ô∏è Wichtig: Zuerst ins richtige Verzeichnis wechseln!</strong></p>\n<pre><code class=\"language-bash\"># Terminal √∂ffnen (Strg+Alt+T)\n\n# Ins Script-Verzeichnis wechseln:\ncd ~/linux-update-script\n\n# ODER bei /opt Installation:\ncd /opt/linux-update-script\n\n# Jetzt das Update-Script ausf√ºhren:\nsudo ./update.sh\n</code></pre>\n<p><strong>H√§ufiger Fehler:</strong></p>\n<pre><code class=\"language-bash\"># ‚ùå FALSCH - ohne cd ins richtige Verzeichnis:\nsudo ./update.sh\n# Fehler: ./update.sh: Datei oder Verzeichnis nicht gefunden\n\n# ‚úÖ RICHTIG - erst mit cd ins Verzeichnis:\ncd ~/linux-update-script\nsudo ./update.sh\n</code></pre>\n<p>Das Script f√ºhrt automatisch folgende Schritte durch:</p>\n<ol>\n<li>System-Updates installieren</li>\n<li>Pr√ºfung auf verf√ºgbare Distribution-Upgrades</li>\n<li>Optional: E-Mail-Benachrichtigung versenden</li>\n<li>Optional: Desktop-Benachrichtigung anzeigen</li>\n</ol>\n<h3>Distribution-Upgrade durchf√ºhren</h3>\n<p><strong>NEU in v1.5.0:</strong> Das Script kann jetzt auch Distribution-Upgrades erkennen und durchf√ºhren.</p>\n<h4>Automatischer Upgrade-Check</h4>\n<p>Nach jedem erfolgreichen Update pr√ºft das Script automatisch, ob ein Distribution-Upgrade verf√ºgbar ist:</p>\n<pre><code class=\"language-bash\">sudo ./update.sh\n# [INFO] System-Update erfolgreich abgeschlossen\n# [INFO] Pr√ºfe auf verf√ºgbare Distribution-Upgrades\n# [INFO] Upgrade verf√ºgbar: Ubuntu 22.04 ‚Üí Ubuntu 24.04\n# [INFO] F√ºr Upgrade ausf√ºhren: sudo ./update.sh --upgrade\n</code></pre>\n<h4>Manuelles Upgrade</h4>\n<p>Um ein verf√ºgbares Distribution-Upgrade durchzuf√ºhren:</p>\n<pre><code class=\"language-bash\"># Ins Script-Verzeichnis wechseln:\ncd ~/linux-update-script\n\n# Upgrade durchf√ºhren:\nsudo ./update.sh --upgrade\n</code></pre>\n<p>Das Script zeigt eine Backup-Warnung und fragt nach Best√§tigung:</p>\n<pre><code>[WARNUNG] Erstelle ein Backup vor dem Upgrade!\nM√∂chtest du das Upgrade durchf√ºhren? [j/N]: j\n[INFO] Starte Upgrade zu Ubuntu 24.04\n[INFO] Distribution-Upgrade erfolgreich abgeschlossen\n</code></pre>\n<h4>Unterst√ºtzte Distribution-Upgrades</h4>\n<ul>\n<li><strong>Debian/Ubuntu</strong>: Erkennt neue Release-Versionen (z.B. Ubuntu 22.04 ‚Üí 24.04)</li>\n<li><strong>Fedora</strong>: Erkennt neue Fedora-Versionen (z.B. Fedora 39 ‚Üí 40)</li>\n<li><strong>Arch/Manjaro</strong>: Pr√ºft auf wichtige Updates (Rolling Release)</li>\n<li><strong>Solus</strong>: Pr√ºft auf ausstehende Updates (Rolling Release)</li>\n</ul>\n<h3>Hilfe anzeigen</h3>\n<pre><code class=\"language-bash\"># Ins Script-Verzeichnis wechseln:\ncd ~/linux-update-script\n\n# Hilfe anzeigen:\nsudo ./update.sh --help\n</code></pre>\n<h3>Automatische Updates via Cron</h3>\n<p>W√§hrend der Installation kannst du einen Cron-Job einrichten. Das Script richtet den Cron-Job automatisch im <strong>root-Crontab</strong> ein (du wirst einmal nach dem sudo-Passwort gefragt).</p>\n<p><strong>Verf√ºgbare Optionen:</strong></p>\n<ul>\n<li>T√§glich um 3:00 Uhr</li>\n<li>W√∂chentlich (Sonntag, 3:00 Uhr)</li>\n<li>Monatlich (1. des Monats, 3:00 Uhr)</li>\n<li>Benutzerdefiniert</li>\n</ul>\n<p><strong>Root-Cron-Jobs anzeigen:</strong></p>\n<pre><code class=\"language-bash\">sudo crontab -l\n</code></pre>\n<p><strong>Root-Cron-Jobs bearbeiten:</strong></p>\n<pre><code class=\"language-bash\">sudo crontab -e\n</code></pre>\n<h2>Mehrsprachigkeit</h2>\n<p>Das Script unterst√ºtzt mehrere Sprachen. Die Sprache wird automatisch erkannt oder kann manuell konfiguriert werden.</p>\n<h3>Verf√ºgbare Sprachen</h3>\n<ul>\n<li><strong>Deutsch</strong> (de) - German</li>\n<li><strong>English</strong> (en) - English</li>\n</ul>\n<p>Weitere Sprachen k√∂nnen von der Community beigetragen werden! Siehe <code>lang/README.md</code> f√ºr Anleitung.</p>\n<h3>Sprache einstellen</h3>\n<p><strong>Option 1: Automatische Erkennung (Standard)</strong></p>\n<p>Das Script erkennt automatisch die System-Sprache aus der <code>LANG</code> Umgebungsvariable.</p>\n<p><strong>Option 2: Manuelle Einstellung</strong></p>\n<p>In der <code>config.conf</code>:</p>\n<pre><code class=\"language-bash\"># Sprache (auto|de|en)\nLANGUAGE=de     # Deutsch\nLANGUAGE=en     # English\nLANGUAGE=auto   # Automatisch\n</code></pre>\n<p><strong>Option 3: Tempor√§r f√ºr einen Lauf</strong></p>\n<pre><code class=\"language-bash\">LANGUAGE=en sudo ./update.sh\n</code></pre>\n<h3>Installation</h3>\n<p>W√§hrend der Installation (<code>./install.sh</code>) wirst du nach deiner bevorzugten Sprache gefragt.</p>\n<h2>Konfiguration</h2>\n<p>Die Konfigurationsdatei <code>config.conf</code> enth√§lt folgende Optionen:</p>\n<pre><code class=\"language-bash\"># Sprache (auto|de|en)\nLANGUAGE=auto\n\n# E-Mail-Benachrichtigung aktivieren (true/false)\nENABLE_EMAIL=false\n\n# E-Mail-Empf√§nger\nEMAIL_RECIPIENT=&quot;admin@domain.de&quot;\n\n# Log-Verzeichnis\nLOG_DIR=&quot;/var/log/system-updates&quot;\n\n# Automatischer Neustart bei Bedarf (true/false)\nAUTO_REBOOT=false\n\n# Kernel-Schutz (true/false)\n# Verhindert autoremove wenn zu wenige Kernel installiert sind\nKERNEL_PROTECTION=true\n\n# Minimale Anzahl stabiler Kernel (Standard: 3)\nMIN_KERNELS=3\n\n# Upgrade-Check aktivieren (true/false)\n# Pr√ºft nach regul√§ren Updates, ob Distribution-Upgrades verf√ºgbar sind\nENABLE_UPGRADE_CHECK=true\n\n# Automatisches Upgrade durchf√ºhren (true/false)\n# WARNUNG: Kann Breaking Changes verursachen! Nur f√ºr erfahrene User\nAUTO_UPGRADE=false\n\n# Upgrade-Benachrichtigungen per E-Mail (true/false)\nUPGRADE_NOTIFY_EMAIL=true\n\n# Desktop-Benachrichtigungen aktivieren (true/false)\nENABLE_DESKTOP_NOTIFICATION=true\n\n# Notification-Dauer in Millisekunden\nNOTIFICATION_TIMEOUT=5000\n</code></pre>\n<h3>Konfiguration √§ndern</h3>\n<p>Option 1: Installations-Script erneut ausf√ºhren</p>\n<pre><code class=\"language-bash\">./install.sh\n</code></pre>\n<p>Option 2: Config-Datei manuell bearbeiten</p>\n<pre><code class=\"language-bash\">nano config.conf\n</code></pre>\n<h2>E-Mail-Benachrichtigung</h2>\n<h3>Voraussetzungen</h3>\n<p>F√ºr E-Mail-Benachrichtigungen ben√∂tigst du:</p>\n<ol>\n<li><strong>Mail-Client</strong> (mail oder mailx)</li>\n<li><strong>MTA (Mail Transfer Agent)</strong></li>\n</ol>\n<h3>Empfohlene MTA-L√∂sung: DMA (DragonFly Mail Agent)</h3>\n<p><strong>DMA</strong> ist die <strong>einfachste und beste L√∂sung</strong> f√ºr lokale E-Mail-Benachrichtigungen:</p>\n<p>‚úÖ <strong>Vorteile:</strong></p>\n<ul>\n<li>Keine Konfiguration n√∂tig</li>\n<li>Kein laufender Dienst</li>\n<li>Kein offener Port (25)</li>\n<li>Keine Queue im Hintergrund</li>\n<li>Perfekt f√ºr lokale Mails (cron, mail)</li>\n<li>Funktioniert sofort nach Installation</li>\n</ul>\n<p><strong>Debian/Ubuntu/Mint:</strong></p>\n<pre><code class=\"language-bash\"># DMA installieren (EMPFOHLEN)\nsudo apt-get install dma\n\n# Das war&#39;s! DMA funktioniert sofort f√ºr lokale Mails\n</code></pre>\n<h3>Alternative MTAs</h3>\n<p>Falls DMA nicht verf√ºgbar oder spezielle Anforderungen bestehen:</p>\n<p><strong>ssmtp (einfach, f√ºr externe SMTP-Server):</strong></p>\n<pre><code class=\"language-bash\">sudo apt-get install ssmtp\n# Konfiguration in /etc/ssmtp/ssmtp.conf erforderlich\n</code></pre>\n<p><strong>postfix (vollwertiger MTA):</strong></p>\n<pre><code class=\"language-bash\">sudo apt-get install postfix\n# W√§hrend Installation: &quot;Internet Site&quot; w√§hlen\n</code></pre>\n<p><strong>RHEL/Fedora/CentOS:</strong></p>\n<pre><code class=\"language-bash\"># Mail-Client installieren\nsudo dnf install mailx\n\n# Einfacher MTA\nsudo dnf install ssmtp\n\n# ODER vollwertiger MTA\nsudo dnf install postfix\n</code></pre>\n<p><strong>openSUSE/SUSE:</strong></p>\n<pre><code class=\"language-bash\">sudo zypper install mailx\nsudo zypper install postfix\n</code></pre>\n<p><strong>Arch Linux/Manjaro:</strong></p>\n<pre><code class=\"language-bash\"># Mail-Client installieren\nsudo pacman -S mailutils\n\n# Einfacher MTA\nsudo pacman -S ssmtp\n\n# ODER vollwertiger MTA\nsudo pacman -S postfix\n</code></pre>\n<h3>E-Mail-Konfiguration testen</h3>\n<pre><code class=\"language-bash\">echo &quot;Test-Nachricht&quot; | mail -s &quot;Test&quot; deine-admin@domain.de\n</code></pre>\n<p><strong>Wichtig:</strong> Wenn du die Fehlermeldung &quot;Cannot start /usr/sbin/sendmail&quot; siehst, ist kein MTA installiert oder konfiguriert. Das Script wird dich dann warnen:</p>\n<pre><code>[WARNUNG] E-Mail konnte nicht gesendet werden (MTA nicht konfiguriert?)\n</code></pre>\n<h2>Desktop-Benachrichtigungen</h2>\n<p><strong>NEU in v1.5.1:</strong> Das Script zeigt Popup-Benachrichtigungen f√ºr wichtige Events!</p>\n<h3>Funktionen</h3>\n<p>Desktop-Benachrichtigungen werden angezeigt bei:</p>\n<ul>\n<li>‚úÖ <strong>Update erfolgreich</strong>: Gr√ºner Hinweis nach abgeschlossenem Update</li>\n<li>‚úÖ <strong>Upgrade verf√ºgbar</strong>: Info √ºber neue Distribution-Version</li>\n<li>‚úÖ <strong>Update fehlgeschlagen</strong>: Kritische Warnung bei Fehler</li>\n<li>‚úÖ <strong>Neustart erforderlich</strong>: Hinweis wenn Reboot n√∂tig</li>\n</ul>\n<h3>Voraussetzungen</h3>\n<pre><code class=\"language-bash\"># Debian/Ubuntu/Mint\nsudo apt-get install libnotify-bin\n\n# Fedora/RHEL\nsudo dnf install libnotify\n\n# Arch Linux\nsudo pacman -S libnotify\n\n# openSUSE\nsudo zypper install libnotify-tools\n</code></pre>\n<h3>Unterst√ºtzte Desktop-Umgebungen</h3>\n<ul>\n<li>GNOME</li>\n<li>KDE Plasma</li>\n<li>XFCE</li>\n<li>Cinnamon</li>\n<li>MATE</li>\n<li>LXQt</li>\n<li>Budgie</li>\n</ul>\n<h3>Konfiguration</h3>\n<pre><code class=\"language-bash\"># In config.conf\n\n# Desktop-Benachrichtigungen aktivieren\nENABLE_DESKTOP_NOTIFICATION=true\n\n# Notification-Dauer (Millisekunden)\nNOTIFICATION_TIMEOUT=5000\n</code></pre>\n<p><strong>Hinweis:</strong> Funktioniert automatisch auch wenn Script als <code>sudo</code> ausgef√ºhrt wird - Notifications werden f√ºr den eigentlichen User angezeigt.</p>\n<h2>Logging</h2>\n<p>Alle Updates werden in Logdateien mit Zeitstempel gespeichert:</p>\n<pre><code>/var/log/system-updates/update_YYYY-MM-DD_HH-MM-SS.log\n</code></pre>\n<h3>Logs anzeigen</h3>\n<p><strong>Interaktiver Log Viewer (empfohlen):</strong></p>\n<pre><code class=\"language-bash\"># Ins Script-Verzeichnis wechseln:\ncd ~/linux-update-script\n\n# Log-Viewer starten:\n./log-viewer.sh\n</code></pre>\n<p>Der Log Viewer bietet folgende Optionen:</p>\n<ol>\n<li>Neueste Logdatei komplett anzeigen</li>\n<li>Letzte 50 Zeilen des neuesten Logs</li>\n<li>Alle Logdateien auflisten</li>\n<li>Nach Fehlern in Logs suchen</li>\n<li>Beenden</li>\n</ol>\n<p><strong>Manuelle Log-Anzeige:</strong></p>\n<p>Neueste Logdatei komplett:</p>\n<pre><code class=\"language-bash\">cat /var/log/system-updates/$(ls -t /var/log/system-updates/ | head -n 1)\n</code></pre>\n<p>Letzte 50 Zeilen:</p>\n<pre><code class=\"language-bash\">tail -n 50 /var/log/system-updates/$(ls -t /var/log/system-updates/ | head -n 1)\n</code></pre>\n<p>Alle Logdateien auflisten:</p>\n<pre><code class=\"language-bash\">ls -lth /var/log/system-updates/\n</code></pre>\n<h2>Fehlerbehebung</h2>\n<h3>Problem: &quot;Permission denied&quot;</h3>\n<p><strong>L√∂sung:</strong> Script muss als root ausgef√ºhrt werden</p>\n<pre><code class=\"language-bash\">sudo ./update.sh\n</code></pre>\n<h3>Problem: &quot;Kann Distribution nicht erkennen&quot;</h3>\n<p><strong>L√∂sung:</strong> Pr√ºfen ob <code>/etc/os-release</code> existiert</p>\n<pre><code class=\"language-bash\">cat /etc/os-release\n</code></pre>\n<h3>Problem: E-Mail wird nicht versendet</h3>\n<p><strong>Fehlermeldung: &quot;Cannot start /usr/sbin/sendmail&quot;</strong></p>\n<p>Dies bedeutet, dass kein MTA (Mail Transfer Agent) installiert ist.</p>\n<p><strong>L√∂sung:</strong></p>\n<pre><code class=\"language-bash\"># Option 1: Einfacher MTA (ssmtp f√ºr Gmail, etc.)\nsudo apt install ssmtp\nsudo nano /etc/ssmtp/ssmtp.conf\n\n# Option 2: Vollwertiger MTA\nsudo apt install postfix\n# W√§hrend Installation: &quot;Internet Site&quot; w√§hlen\n</code></pre>\n<p><strong>√úberpr√ºfungen:</strong></p>\n<ol>\n<li><p>Ist <code>mailutils</code> oder <code>mailx</code> installiert?</p>\n<pre><code class=\"language-bash\">which mail\nwhich sendmail\n</code></pre>\n</li>\n<li><p>Ist ein MTA installiert?</p>\n<pre><code class=\"language-bash\">systemctl status postfix\n# oder\ndpkg -l | grep ssmtp\n</code></pre>\n</li>\n<li><p>Ist die E-Mail-Adresse korrekt in <code>config.conf</code>?</p>\n<pre><code class=\"language-bash\">cat config.conf | grep EMAIL\n</code></pre>\n</li>\n<li><p>Ist E-Mail aktiviert?</p>\n<pre><code class=\"language-bash\">cat config.conf | grep ENABLE_EMAIL\n</code></pre>\n</li>\n<li><p>Test-E-Mail senden:</p>\n<pre><code class=\"language-bash\">echo &quot;Test&quot; | mail -s &quot;Test&quot; deine@email.de\n# Pr√ºfe /var/log/mail.log f√ºr Fehler\n</code></pre>\n</li>\n</ol>\n<h3>Problem: Log-Verzeichnis kann nicht erstellt werden</h3>\n<p><strong>L√∂sung:</strong> Script beim ersten Mal als root ausf√ºhren</p>\n<pre><code class=\"language-bash\">sudo ./update.sh\n</code></pre>\n<p>Oder Log-Verzeichnis manuell erstellen:</p>\n<pre><code class=\"language-bash\">sudo mkdir -p /var/log/system-updates\nsudo chown $USER:$USER /var/log/system-updates\n</code></pre>\n<h3>Problem: Cron-Job funktioniert nicht</h3>\n<p><strong>√úberpr√ºfungen:</strong></p>\n<ol>\n<li><p>Ist der Cron-Job korrekt eingetragen?</p>\n<pre><code class=\"language-bash\">crontab -l\n</code></pre>\n</li>\n<li><p>Pr√ºfen Sie die Cron-Logs:</p>\n<pre><code class=\"language-bash\">tail -f /var/log/cron.log\n# oder\ntail -f /var/log/system-updates/cron.log\n</code></pre>\n</li>\n<li><p>Script-Pfad absolut angeben:</p>\n<pre><code class=\"language-bash\"># Beispiel f√ºr Installation im Home-Verzeichnis:\n0 3 * * * /home/USERNAME/linux-update-script/update.sh\n\n# Beispiel f√ºr Installation in /opt:\n0 3 * * * /opt/linux-update-script/update.sh\n</code></pre>\n<p><strong>Hinweis:</strong> Ersetze <code>USERNAME</code> mit deinem tats√§chlichen Benutzernamen oder verwende den absoluten Pfad zu deiner Installation.</p>\n</li>\n</ol>\n<h2>Kernel-Schutz</h2>\n<p><strong>NEU in v1.5.0:</strong> Das Script sch√ºtzt automatisch vor versehentlichem Entfernen von Fallback-Kerneln.</p>\n<h3>Funktionsweise</h3>\n<ul>\n<li>Z√§hlt installierte stabile Kernel-Versionen vor <code>autoremove</code></li>\n<li>√úberspringt <code>autoremove</code> wenn weniger als <code>MIN_KERNELS</code> vorhanden</li>\n<li>Standard: Mindestens 3 Kernel (aktuell laufend + 2 Fallback-Versionen)</li>\n<li>Unterst√ºtzt Debian/Ubuntu und RHEL/Fedora</li>\n</ul>\n<h3>Beispiel</h3>\n<pre><code class=\"language-bash\">sudo ./update.sh\n# [INFO] Pr√ºfe installierte Kernel-Versionen\n# [INFO] Gefunden: 5 stabile Kernel-Versionen\n# [INFO] Aktuell laufend: 6.5.0-28-generic\n# [INFO] Gen√ºgend Kernel vorhanden, f√ºhre autoremove aus\n</code></pre>\n<p>Wenn zu wenige Kernel vorhanden:</p>\n<pre><code class=\"language-bash\"># [WARNUNG] Nur 2 Kernel gefunden, √ºberspringe autoremove zur Sicherheit\n# [INFO] Minimum erforderlich: 3 stabile Kernel (aktuell + Fallbacks)\n# [INFO] Kernel-Schutz aktiv: Mindestens 2 stabile Kernel werden behalten\n</code></pre>\n<h3>Konfiguration</h3>\n<pre><code class=\"language-bash\"># Kernel-Schutz deaktivieren (nicht empfohlen)\nKERNEL_PROTECTION=false\n\n# Mindestanzahl √§ndern\nMIN_KERNELS=5  # Beh√§lt mehr Fallback-Kernel\n</code></pre>\n<h2>Sicherheitshinweise</h2>\n<ul>\n<li>Das Script ben√∂tigt root-Rechte f√ºr System-Updates</li>\n<li><strong>Backup empfohlen</strong> vor Distribution-Upgrades</li>\n<li>Konfigurationsdatei enth√§lt keine sensiblen Daten</li>\n<li>E-Mail-Passw√∂rter werden nicht im Script gespeichert</li>\n<li>Logs k√∂nnen sensible Systeminformationen enthalten</li>\n<li>Kernel-Schutz verhindert Bootprobleme durch fehlende Fallback-Kernel</li>\n</ul>\n<h2>Deinstallation</h2>\n<h3>Cron-Job entfernen</h3>\n<pre><code class=\"language-bash\">crontab -e\n# Zeile mit update.sh l√∂schen\n</code></pre>\n<h3>Dateien entfernen</h3>\n<p><strong>F√ºr Installation im Home-Verzeichnis:</strong></p>\n<pre><code class=\"language-bash\">rm -rf ~/linux-update-script\nsudo rm -rf /var/log/system-updates\n</code></pre>\n<p><strong>F√ºr Installation in /opt:</strong></p>\n<pre><code class=\"language-bash\">sudo rm -rf /opt/linux-update-script\nsudo rm -rf /var/log/system-updates\n</code></pre>\n<h2>Lizenz</h2>\n<p>Dieses Projekt steht unter der MIT-Lizenz. Siehe <a href=\"LICENSE\">LICENSE</a> Datei f√ºr Details.</p>\n<h2>Support</h2>\n<p>Bei Problemen oder Fragen:</p>\n<ol>\n<li>Pr√ºfe die Logdateien</li>\n<li>√úberpr√ºfen die Konfiguration</li>\n<li>Stelle sicher, dass alle Voraussetzungen erf√ºllt sind</li>\n</ol>\n<h2>Changelog</h2>\n<p>Die vollst√§ndige Versionshistorie findest du in der <a href=\"CHANGELOG.md\">CHANGELOG.md</a> Datei.</p>\n<h3>Aktuelle Version: 1.5.1 (2025-12-27) - Desktop-Benachrichtigungen &amp; DMA</h3>\n<p><strong>Highlights:</strong></p>\n<ul>\n<li>‚úÖ <strong>NEU: Desktop-Benachrichtigungen</strong> - Popup-Notifications f√ºr wichtige Events<ul>\n<li>Benachrichtigungen bei Update-Erfolg, Upgrade verf√ºgbar, Fehler, Neustart</li>\n<li>Funktioniert automatisch auch als root</li>\n<li>Unterst√ºtzt GNOME, KDE, XFCE, Cinnamon, MATE, LXQt, Budgie</li>\n</ul>\n</li>\n<li>‚úÖ <strong>NEU: DMA-Empfehlung</strong> - Einfachste L√∂sung f√ºr E-Mail-Benachrichtigungen<ul>\n<li>Keine Konfiguration n√∂tig</li>\n<li>Kein laufender Dienst, kein offener Port</li>\n<li>Perfekt f√ºr lokale Mails</li>\n</ul>\n</li>\n<li>‚úÖ Upgrade-Check System (v1.5.0)</li>\n<li>‚úÖ Kernel-Schutz (v1.5.0)</li>\n<li>‚úÖ ShellCheck-konform (keine Warnungen)</li>\n</ul>\n<p><strong>Version 1.4.0:</strong></p>\n<ul>\n<li>‚úÖ ShellCheck-Warnungen behoben</li>\n<li>‚úÖ Code-Qualit√§t verbessert</li>\n</ul>\n<p><strong>Version 1.3.0:</strong></p>\n<ul>\n<li>‚úÖ Solus Unterst√ºtzung (Community Beitrag von @mrtoadie)</li>\n<li>‚úÖ Void Linux Unterst√ºtzung (Community Beitrag von @tbreswald)</li>\n<li>‚úÖ GitHub Repository professionell eingerichtet</li>\n</ul>\n<p><strong>Siehe <a href=\"CHANGELOG.md\">CHANGELOG.md</a> f√ºr alle Details</strong></p>\n"
}